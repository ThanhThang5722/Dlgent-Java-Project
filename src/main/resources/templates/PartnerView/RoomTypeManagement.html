<!DOCTYPE html>
<html lang="vn">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="${bootstrapUrl}"/>
    <link rel="stylesheet" th:href="@{/css/PartnerDashboard/ResortListStyle.css}"/>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <title>Partner Dash board</title>
    
</head>
<body>
    <div class="sidebar">
        <h4 class="text-center text-white">Partner Dashboard</h4>
        <ul class="list-unstyled">
            <li><a href="/resort-list">Danh sách khu nghỉ dưỡng</a></li>
            <li><a href="/roomtype-list">Danh sách loại phòng</a></li>
            <li><a href="/income-report">Báo cáo doanh thu</a></li>
            <li><a href="/withdraw">Rút tiền</a></li>
        </ul>
    </div>
    
    <div class="content">
        <div class="row">
            <div class="col-12">
                <div class="tools">
                    <h5>Tools</h5>
                    <div class="mb-3">
                        <label for="searchName" class="form-label">Chọn khu nghỉ dưỡng</label>
                        <select id="searchName" class="form-select">
                            <option value="">Tất cả</option>
                            <option th:each="resort : ${listKhuNghiDuong}" th:value="${resort.id}" th:text="${resort.ten}"></option>
                        </select>
                    </div>
                    <button class="btn btn-primary mb-2" id="insertBtn">Insert</button>
                    <button class="btn btn-warning mb-2">Update</button>
                    <button class="btn btn-danger mb-2" id="deleteBtn">Delete Selected (Hard delete)</button>
                </div>
            </div>
            <div class="col-12 form-container" id="insertFormContainer" style="display: none;">
                <h5>Insert New Resort</h5>
                <form id="insertForm">
                    <div class="mb-3">
                        <label for="roomTypeName" class="form-label">Tên loại phòng</label>
                        <input type="text" id="roomTypeName" class="form-control" placeholder="Enter room type name" required>
                    </div>
                    <div class="mb-3">
                        <label for="acreage" class="form-label">Diện tích</label>
                        <input type="text" id="acreage" class="form-control" placeholder="Enter acreage name" required>
                    </div>
                    <div class="mb-3">
                        <label for="qualityStandard" class="form-label">Tiêu chuẩn</label>
                        <select id="qualityStandard" class="form-select" required>
                            <option value="">Chọn tiêu chuẩn chất lượng phòng</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="quantityStandard" class="form-label">Loại phòng theo số lượng</label>
                        <select id="quantityStandard" class="form-select" required>
                            <option value="">Chọn tiêu chuẩn số người ở</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="numberOfBed" class="form-label">Số giường</label>
                        <input type="text" id="numberOfBed" class="form-control" placeholder="Enter number of bed" required>
                    </div>
                    <div class="mb-3">
                        <label for="numberOfPeoPle" class="form-label">Số người ở tối đa</label>
                        <input type="text" id="numberOfPeoPle" class="form-control" placeholder="Enter maximum number" required>
                    </div>
                    <div class="mb-3">
                        <label for="roomTypePrice" class="form-label">Giá</label>
                        <input type="text" id="roomTypePrice" class="form-control" placeholder="Enter room type price" required>
                    </div>
                    <button type="submit" class="btn btn-success">Submit</button>
                    <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                </form>
            </div>

            <div class="col-12 form-container" id="updateFormContainer" style="display: none;">
                <h5>Update Resort</h5>
                <form id="updateForm">
                    <div class="mb-3">
                        <label for="updateResortName" class="form-label">Tên khu nghỉ dưỡng</label>
                        <input type="text" id="updateResortName" class="form-control" placeholder="Enter resort name" required>
                    </div>

                    <div class="mb-3">
                        <label for="updateAddress" class="form-label">Địa chỉ</label>
                        <input type="text" id="updateAddress" class="form-control" placeholder="Enter address" required>
                    </div>

                    <button type="submit" class="btn btn-success">Submit</button>
                    <button type="button" class="btn btn-secondary" id="cancelUpdateBtn">Cancel</button>
                </form>
            </div>

            <div class="col-12">
                <div class="list">
                    <h5>List of Resorts</h5>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAll"> Select All</th>
                                <th>Loại phòng</th>
                                <th>Diện tích</th>
                                <th>Tiêu chuẩn</th>
                                <th>Loại số lượng</th>
                                <th>Số giường</th>
                                <th>Số người ở tối đa</th>
                                <th>Giá</th>

                            </tr>
                        </thead>
                        <tbody id="resortList">
                            <tr th:each="roomType : ${loaiPhongs}">
                                <td><input type="checkbox" class="selectResort" th:data-id="${roomType.id}"></td>
                                <td th:text="${roomType.tenLoaiPhong}"></td>
                                <td th:text="${roomType.dienTich}"></td>
                                <td th:text="${roomType.loaiPhongTheoSoLuong}"></td>
                                <td th:text="${roomType.loaiPhongTheoTieuChuan}"></td>
                                <td th:text="${roomType.soGiuong}"></td>
                                <td th:text="${roomType.soNguoi}"></td>
                                <td th:text="${roomType.gia}"></td>

                                <td style="display: none;" th:data-id="${roomType.khuNghiDuong.id}"> 
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer or additional sections can go here -->
    
    

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function() {
    // Chuyển form Thêm Khu nghỉ dưỡng từ ẩn sang hiện
        $('#insertBtn').click(function() {
            $('#insertFormContainer').show();  // Hiển thị form thêm mới
        });

        // Hủy thao tác thêm mới
        $('#cancelBtn').click(function() {
            $('#insertFormContainer').hide();  // Ẩn form thêm mới
        });

        // Tìm kiếm tên khu nghỉ dưỡng
        $('#searchName').on('input', function() {
            var searchTerm = $(this).val().toLowerCase();
            $('#resortList tr').each(function() {
                var resortName = $(this).find('td:eq(1)').text().toLowerCase();
                if (resortName.indexOf(searchTerm) !== -1) {
                    $(this).show();  // Hiển thị dòng nếu có khớp
                } else {
                    $(this).hide();  // Ẩn dòng nếu không có khớp
                }
            });
        });

        // Select all checkboxes
        $('#selectAll').click(function() {
            var isChecked = $(this).prop('checked');
            $('.selectResort').prop('checked', isChecked);
        });
    });

    </script>
    <script th:src="@{/js/room-type.js?version=1.0}"></script>
</body>
</html>